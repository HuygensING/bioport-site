<div tal:omit-tag=""
    tal:define="persons view/get_persons;
        batch persons;">
<html metal:use-macro="context/@@main_template/macros/master">
<div metal:fill-slot="content">
<div class="navigation_box" tal:define="results persons">   
    <span tal:replace="python:'%s-%s van %s' % (results.start + 1, results.end + 1,  results.grand_total)" />  | 
    <span tal:condition="results/previous">
        <a tal:attributes="href python:view.batch_url(start=results.previous.start)"
            tal:content="string:vorige">vorige X</a>
    </span>  | 

    <br>
    <span tal:condition="results/next">
        <a tal:attributes="href python:view.batch_url(start=results.next.start);"
            tal:content="string:volgende">vorige X</a>
    </span>
    
    <br>
    <div tal:repeat="item view/navigation_box_data"
       tal:attributes="class python:repeat['item'].number() == batch.number and 'selected' or ''">
        <span class="number" tal:content="repeat/item/number" />
        <a tal:attributes="href python:item[0]">
        <span tal:on-error="string:??"
            tal:replace="python:item[1] + '-' + item[2]">Jan -- Piet</span>
        </a>
    </div>
</div>
<div class="content_box">
<span metal:define-macro="alfabet" tal:repeat="letter string:abcdefghijklmnopqrstuvwxyz"
    tal:condition="not:view/search_description"
    tal:attributes="class python:letter == request.get('beginletter') and 'alfabet selected' or 'alfabet'"
    ><a tal:attributes="href string:${view/url}?beginletter=${letter}" ><span tal:replace="letter/upper" /></a></span>
<p>
<div tal:replace="structure view/search_description"></div>  
<div tal:omit-tag="" tal:define="results persons">
	<div tal:omit-tag="" metal:define-macro="aantal_resultaten">
		<span tal:omit-tag="" tal:condition="python:results.grand_total == 0">Er zijn geen personen gevonden.</span>
		<span tal:omit-tag="" tal:condition="python:results.grand_total == 1">Er is &eacute;&eacute;n persoon gevonden.</span>
		<span tal:omit-tag="" tal:condition="python:results.grand_total > 2">Er zijn <span tal:replace="python:context.format_number(results.grand_total)" /> personen gevonden.</span>
	</div>
Heeft u niet gevonden wie U zocht? Probeer het met het <a tal:attributes="href python:view.url('zoek')">zoekscherm</a>.
</div>


	<div tal:repeat="person persons" class="persoon">
	    <span 
	       class="illustration"
	        tal:condition="person/has_illustrations" >
	        <img 
 	       tal:define="illustrations python:person.get_merged_biography().get_illustrations()" 
 	       tal:condition="illustrations"
	        tal:attributes="src python:illustrations[0].cached_url()" />
        </span>
		<a 
		tal:content="structure python:person.naam() and person.naam().guess_normal_form() or 'XXXXX'" 
	    tal:attributes="href python:'%s/%s' % (view.url('persoon'), person.get_bioport_id())" />
	    <span tal:replace="python:context.format_dates(person.get_value('geboortedatum'), person.get_value('sterfdatum'))" />
	    <br>
	    <span class="snippet" tal:content="person/snippet" />
	    <div style="clear:both" ></div>
	</div>
</div>
</div>
</html>
</div>
